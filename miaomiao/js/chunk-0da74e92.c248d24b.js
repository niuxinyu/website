(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0da74e92"],{"1a86":function(t,i,n){},"5ab7":function(t,i,n){var e=n("836e"),o=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},"7d2d":function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"city_body"},[n("div",{staticClass:"city_list"},[t.isLoading?n("Loading"):t._e(),n("scroller",{ref:"city"},[n("div",[n("div",{staticClass:"city_hot"},[n("h2",[t._v("热门城市")]),n("ul",{staticClass:"clearfix"},t._l(t.CityHot,function(i,e){return n("li",{key:i.i,on:{tap:function(n){return t.ChangeCity(i,e)}}},[t._v(t._s(i))])}),0)]),n("div",{ref:"city_h2",staticClass:"city_sort"},t._l(t.CityList,function(i){return n("div",{key:i.id},[n("h2",[t._v(t._s(i.index))]),n("ul",t._l(i.list,function(i){return n("li",{key:i.id,on:{tap:function(n){return t.ChangeCity(i.nm,i.id)}}},[t._v(t._s(i.nm))])}),0)])}),0)])])],1),n("div",{staticClass:"city_index"},[n("ul",t._l(t.CityList,function(i,e){return n("li",{key:i.index,on:{touchstart:function(i){return t.handleToIndex(e)},tap:function(n){return t.ChangeCity(i.nm,i.id)}}},[t._v(t._s(i.index))])}),0)])])},o=[],s=(n("ab56"),n("cc80")),r=n.n(s),a={name:"citylist",data:function(){return{CityList:[],CityHot:[],isLoading:!0}},created:function(){var t=this,i=window.localStorage.getItem("cityList"),n=window.localStorage.getItem("cityHot");i&&n?(this.CityList=JSON.parse(i),this.CityHot=JSON.parse(n),this.isLoading=!1):this.$http.get("http://39.97.33.178/api/cityList").then(function(i){if(0===i.data.status){var n=i.data.data.cities;t.isLoading=!1;var e=t.formatCityList(n),o=e.cityList,s=e.cityHot;t.CityList=o,t.CityHot=s,window.localStorage.setItem("cityList",r()(o)),window.localStorage.setItem("cityHot",r()(s))}})},methods:{formatCityList:function(t){for(var i=[],n=[],e=0;e<t.length;e++)1===t[e].isHot&&n.push(t[e].nm);for(e=0;e<t.length;e++){var o=t[e].py.substring(0,1).toUpperCase();s(o)?i.push({index:o,list:[{nm:t[e].nm,id:t[e].id}]}):i.some(function(i){if(i.index===o)return i.list.push({nm:t[e].nm,id:t[e].id}),!0})}function s(t){for(var n=0;n<i.length;n++)if(i[n].index===t)return!1;return!0}return i.sort(function(t,i){return t.index<i.index?-1:t.index>i.index?1:0}),{cityList:i,cityHot:n}},handleToIndex:function(t){var i=this.$refs.city_h2.getElementsByTagName("h2");this.$refs.city.toScrollTop(-i[t].offsetTop)},ChangeCity:function(t,i){this.$store.commit("city/CITY_CHANGE",{nm:t,id:i}),window.localStorage.setItem("nowNM",t),window.localStorage.setItem("nowID",i),this.$router.push("/movie/nowplaying")}}},c=a,u=(n("c000"),n("17cc")),l=Object(u["a"])(c,e,o,!1,null,"1422a045",null);i["default"]=l.exports},"836e":function(t,i){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},ab56:function(t,i,n){"use strict";var e=n("2d2c"),o=n("9102"),s=n("aa91"),r=n("201d"),a=[].sort,c=[1,2,3];e(e.P+e.F*(r(function(){c.sort(void 0)})||!r(function(){c.sort(null)})||!n("b139")(a)),"Array",{sort:function(t){return void 0===t?a.call(s(this)):a.call(s(this),o(t))}})},b139:function(t,i,n){"use strict";var e=n("201d");t.exports=function(t,i){return!!t&&e(function(){i?t.call(null,function(){},1):t.call(null)})}},c000:function(t,i,n){"use strict";var e=n("1a86"),o=n.n(e);o.a},cc80:function(t,i,n){t.exports=n("5ab7")}}]);
//# sourceMappingURL=chunk-0da74e92.c248d24b.js.map